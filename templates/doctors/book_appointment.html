{% extends 'base.html' %}

{% block title %}Book Appointment with Dr. {{ doctor.full_name }} - Vaya{% endblock %}

{% block extra_head %}
<style>
    /* Main Content - Form Section */
    .booking-section {
        flex-grow: 1;
        padding: 60px 0;
        background-color: #e6f6f2;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .booking-card {
        background-color: #fff;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        width: 100%;
        max-width: 550px;
        text-align: center;
    }
    .booking-card h2 {
        font-size: 2.2em;
        margin-bottom: 30px;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
        .booking-section {
            padding: 40px 0;
        }
        .booking-card {
            padding: 25px;
            margin: 0 15px;
        }
    }
</style>
{% endblock %}

{% block content %}
    <section class="booking-section">
        <div class="container">
            <div class="booking-card">
                <h2>Book Appointment with Dr. {{ doctor.full_name }}</h2>
                <p>Clinic: {{ doctor.clinic_name }}</p>
                <p>Specialties:
                    {% for specialty in doctor.specialties.all %}
                        {{ specialty.name }}{% if not forloop.last %}, {% endif %}
                    {% empty %}
                        N/A
                    {% endfor %}
                </p>
                <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">

                <form method="post">
                    {% csrf_token %}

                    <div class="form-group">
                        <label for="{{ form.appointment_date.id_for_label }}">Preferred Date <span style="color: red;">*</span></label>
                        {{ form.appointment_date }}
                        {% if form.appointment_date.errors %}<small class="errorlist">{{ form.appointment_date.errors }}</small>{% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.appointment_time.id_for_label }}">Preferred Time <span style="color: red;">*</span></label>
                        {{ form.appointment_time }}
                        {% if form.appointment_time.errors %}<small class="errorlist">{{ form.appointment_time.errors }}</small>{% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.reason.id_for_label }}">Reason for Appointment (Optional)</label>
                        {{ form.reason }}
                        {% if form.reason.errors %}<small class="errorlist">{{ form.reason.errors }}</small>{% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.appointment_type.id_for_label }}">Appointment Type <span style="color: red;">*</span></label>
                        {{ form.appointment_type }}
                        {% if form.appointment_type.errors %}<small class="errorlist">{{ form.appointment_type.errors }}</small>{% endif %}
                    </div>

                    <button type="submit" class="btn-primary">Request Appointment</button>
                </form>
            </div>
        </div>
    </section>
{% endblock %}